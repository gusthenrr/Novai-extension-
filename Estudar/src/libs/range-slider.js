(function(r,h){typeof exports=="object"&&typeof module<"u"?module.exports=h():typeof define=="function"&&define.amd?define(h):(r=typeof globalThis<"u"?globalThis:r||self,r.RangeSliderElement=h())})(this,function(){"use strict";var r=typeof document<"u"?document.currentScript:null;const h={value:"valuenow",min:"valuemin",max:"valuemax"};function v(c=""){const t=String(c).split(".")[1];return t?t.length:0}function u(c,t,e){const i=h[t];i&&c.setAttribute(`aria-${i}`,e)}const g=["min","max","step","value","disabled","value-precision"],f={stepUp:["ArrowUp","ArrowRight"],stepDown:["ArrowDown","ArrowLeft"]},b=document.createElement("template");b.innerHTML=`
  <div data-track></div>
  <div data-track-fill></div>
  <div data-runnable-track>
    <div data-thumb></div>
  </div>
`;class o extends HTMLElement{static define(t="range-slider",e=customElements){if(!e.get(t))return e.define(t,o),o}static observedAttributes=g;static formAssociated=!0;#n;#o;#t=[];#r=[];#i=0;constructor(){super(),this.#n=this.attachInternals(),this.addEventListener("focusin",this.#m),this.addEventListener("pointerdown",this.#f),this.addEventListener("keydown",this.#p)}get min(){return this.hasAttribute("min")?Number(this.getAttribute("min")):0}get max(){return this.hasAttribute("max")?Number(this.getAttribute("max")):100}get step(){return this.hasAttribute("step")?Number(this.getAttribute("step")):1}get value(){return this.#t.join(",")}get disabled(){return this.getAttribute("disabled")===""||!1}get valuePrecision(){return this.getAttribute("value-precision")||""}get#s(){return this.getAttribute("orientation")==="vertical"}get#l(){return!!(this.#s||this.getAttribute("dir")==="rtl")}get#d(){return this.#e.length>1}get#e(){return this.querySelectorAll("[data-runnable-track] [data-thumb]")}get#c(){return this.querySelector("[data-track-fill]")}get#a(){return this.#s?this.offsetHeight:this.offsetWidth}set min(t){this.setAttribute("min",t);for(const e of this.#e)u(e,"min",t)}set max(t){this.setAttribute("max",t);for(const e of this.#e)u(e,"max",t)}set step(t){this.setAttribute("step",t)}set value(t){String(t).split(",").map((e,i)=>{this.#u(i,e)})}set disabled(t){if(t){this.setAttribute("disabled",""),this.removeAttribute("tabindex");for(const e of this.#e)e.removeAttribute("tabindex")}else{this.removeAttribute("disabled"),this.setAttribute("tabindex","-1");for(const e of this.#e)e.setAttribute("tabindex",0)}}set valuePrecision(t){this.setAttribute("value-precision",t)}get form(){return this.#n.form}get name(){return this.getAttribute("name")}get type(){return this.localName}get validity(){return this.#n.validity}get validationMessage(){return this.#n.validationMessage}get willValidate(){return this.#n.willValidate}checkValidity(){return this.#n.checkValidity()}reportValidity(){return this.#n.reportValidity()}connectedCallback(){this.firstChild||this.appendChild(b.content.cloneNode(!0)),this.disabled||this.setAttribute("tabindex","-1"),this.#e.forEach((t,e)=>{t.dataset.thumb=e,t.setAttribute("role","slider"),u(t,"min",this.min),u(t,"max",this.max),this.disabled||t.setAttribute("tabindex",0)}),this.value=this.getAttribute("value")||this.#E()}disconnectedCallback(){this.removeEventListener("focusin",this.#m),this.removeEventListener("pointerdown",this.#f),this.removeEventListener("keydown",this.#p)}attributeChangedCallback(t,e,i){e!==i&&(t==="value"?this.value=i:this.value=this.value)}#m=t=>{t.target.dataset.thumb!==void 0&&(this.#i=Number(t.target.dataset.thumb))};#f=t=>{if(!this.disabled)if(this.setPointerCapture(t.pointerId),this.addEventListener("pointermove",this.#b),window.addEventListener("pointerup",this.#h),window.addEventListener("pointercancel",this.#h),this.#o=this.value,t.target.dataset.thumb!==void 0)this.#i=Number(t.target.dataset.thumb);else{const{offsetX:e,offsetY:i}=t;this.#i=this.#w(this.#s?i:e),this.#v(this.#s?i:e)}};#b=t=>{t.target===this&&(t.preventDefault(),this.#v(this.#s?t.offsetY:t.offsetX))};#h=t=>{this.releasePointerCapture(t.pointerId),this.removeEventListener("pointermove",this.#b),window.removeEventListener("pointerup",this.#h),window.removeEventListener("pointercancel",this.#h),this.#o!==this.value&&this.dispatchEvent(new Event("change",{bubbles:!0}))};#p=t=>{const i=Object.keys(f).find(s=>f[s].includes(t.code)&&s);document.activeElement!==this.#e[this.#i]&&this.#e[this.#i].focus({focusVisible:!1}),i&&(t.preventDefault(),this[i]())};#v=t=>{const i=Math.min(Math.max(t,0),this.#a)/this.#a,s=this.#A(this.#l?1-i:i);this.#u(this.#i,s,["input"])};#E(){return this.max<this.min?this.min:this.min+(this.max-this.min)/2}#g(t){return 100*(t-this.min)/(this.max-this.min)}#A(t){return this.min+t*(this.max-this.min)}#w(t){let e;const s=Math.min(Math.max(t,0),this.#a)/this.#a,a=this.#A(this.#l?1-s:s),n=this.#t.findIndex(l=>a-l<0);if(n===0)e=n;else if(n===-1)e=this.#t.length-1;else{const l=this.#t[n-1],m=this.#t[n];Math.abs(l-a)<Math.abs(m-a)?e=n-1:e=n}return e}#u(t,e,i=[]){const s=this.#t[t],a=Number(this.valuePrecision)||v(this.step)||0,n=this.#t[t-1]||this.min,l=this.#t[t+1]||this.max,m=Math.min(Math.max(e,n),l),p=Math.round(m/this.step)*this.step,d=Number(a?p.toFixed(a):Math.round(p));s!==d&&(this.#t[t]=d,this.#r[t]=this.#g(d),this.#n.setFormValue(this.#t.join(",")),this.#x(t,d),this.#y(),i.map(A=>{this.dispatchEvent(new Event(A,{bubbles:!0}))}))}#x(t,e){this.#e[t]&&(this.#e[t].style.setProperty(`inset-${this.#s?"block":"inline"}-${this.#s?"end":"start"}`,`${this.#g(e)}%`),u(this.#e[t],"value",e))}#y(){if(!this.#c)return;const t=this.#d?`${this.#r[0]}%`:0,i=`clamp(var(--thumb-size) / 2, ${this.#d?`${100-this.#r[this.#r.length-1]}%`:`${100-this.#r[0]}%`}, 100% - var(--thumb-size) / 2)`;this.#c.style.setProperty(`inset-${this.#s?"block":"inline"}`,this.#s?`${i} ${t}`:`${t} ${i}`)}stepUp(t=this.step){const e=this.#t[this.#i]+t;this.#u(this.#i,e,["change"])}stepDown(t=this.step){const e=this.#t[this.#i]-t;this.#u(this.#i,e,["change"])}}return new URL(typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:r&&r.tagName.toUpperCase()==="SCRIPT"&&r.src||new URL("range-slider-element.umd.cjs",document.baseURI).href).searchParams.has("define","false")||(window.RangeSliderElement=o.define()),o});